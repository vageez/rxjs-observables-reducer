{"id":"js/createStore.js","dependencies":[{"name":"/Users/avagenas/Github/rxjs-observables-reducer/package.json","includedInParent":true,"mtime":1567956761000},{"name":"rxjs","loc":{"line":1,"column":24},"parent":"/Users/avagenas/Github/rxjs-observables-reducer/js/createStore.js","resolved":"/Users/avagenas/Github/rxjs-observables-reducer/node_modules/rxjs/_esm5/index.js"},{"name":"rxjs/operators","loc":{"line":2,"column":45},"parent":"/Users/avagenas/Github/rxjs-observables-reducer/js/createStore.js","resolved":"/Users/avagenas/Github/rxjs-observables-reducer/node_modules/rxjs/_esm5/operators/index.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar initialState = {\n  count: 0\n};\n\nvar createStore = function createStore(reducer) {\n  var action$ = new _rxjs.Subject();\n  var store$ = action$.pipe((0, _operators.startWith)({\n    type: '__INIT__'\n  }), (0, _operators.scan)(function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments.length > 1 ? arguments[1] : undefined;\n    var handlers = {\n      INCREMENT: function INCREMENT(state) {\n        return _objectSpread({}, state, {\n          count: state.count + 1\n        });\n      },\n      DECREMENT: function DECREMENT(state) {\n        return _objectSpread({}, state, {\n          count: state.count - 1\n        });\n      },\n      ADD: function ADD(state, action) {\n        return _objectSpread({}, state, {\n          count: state.count + action.payload\n        });\n      },\n      DEFAULT: function DEFAULT(state) {\n        return state;\n      }\n    };\n    var handler = handlers[action.type] || handlers.DEFAULT;\n    return handler(state, action);\n  }, undefined), (0, _operators.shareReplay)(1));\n  store$.action$ = action$;\n\n  store$.dispatch = function (action) {\n    return action$.next(action);\n  };\n\n  return store$;\n};\n\nvar _default = createStore;\nexports.default = _default;"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":8,"column":0},"source":"js/createStore.js","original":{"line":1,"column":0}},{"generated":{"line":10,"column":0},"source":"js/createStore.js","original":{"line":2,"column":0}},{"generated":{"line":18,"column":0},"source":"js/createStore.js","original":{"line":4,"column":0}},{"name":"initialState","generated":{"line":18,"column":4},"source":"js/createStore.js","original":{"line":4,"column":6}},{"generated":{"line":18,"column":16},"source":"js/createStore.js","original":{"line":4,"column":18}},{"generated":{"line":18,"column":19},"source":"js/createStore.js","original":{"line":4,"column":21}},{"name":"count","generated":{"line":19,"column":0},"source":"js/createStore.js","original":{"line":5,"column":2}},{"name":"count","generated":{"line":19,"column":2},"source":"js/createStore.js","original":{"line":5,"column":2}},{"generated":{"line":19,"column":7},"source":"js/createStore.js","original":{"line":5,"column":7}},{"generated":{"line":19,"column":9},"source":"js/createStore.js","original":{"line":5,"column":9}},{"generated":{"line":20,"column":0},"source":"js/createStore.js","original":{"line":4,"column":21}},{"generated":{"line":20,"column":1},"source":"js/createStore.js","original":{"line":4,"column":0}},{"generated":{"line":22,"column":0},"source":"js/createStore.js","original":{"line":8,"column":0}},{"name":"createStore","generated":{"line":22,"column":4},"source":"js/createStore.js","original":{"line":8,"column":6}},{"generated":{"line":22,"column":15},"source":"js/createStore.js","original":{"line":8,"column":17}},{"generated":{"line":22,"column":18},"source":"js/createStore.js","original":{"line":8,"column":20}},{"name":"createStore","generated":{"line":22,"column":27},"source":"js/createStore.js","original":{"line":8,"column":6}},{"generated":{"line":22,"column":38},"source":"js/createStore.js","original":{"line":8,"column":20}},{"name":"reducer","generated":{"line":22,"column":39},"source":"js/createStore.js","original":{"line":8,"column":20}},{"generated":{"line":22,"column":46},"source":"js/createStore.js","original":{"line":8,"column":27}},{"generated":{"line":22,"column":48},"source":"js/createStore.js","original":{"line":8,"column":31}},{"generated":{"line":23,"column":0},"source":"js/createStore.js","original":{"line":9,"column":2}},{"name":"action$","generated":{"line":23,"column":6},"source":"js/createStore.js","original":{"line":9,"column":8}},{"generated":{"line":23,"column":13},"source":"js/createStore.js","original":{"line":9,"column":15}},{"generated":{"line":23,"column":16},"source":"js/createStore.js","original":{"line":9,"column":18}},{"name":"Subject","generated":{"line":23,"column":20},"source":"js/createStore.js","original":{"line":9,"column":22}},{"generated":{"line":23,"column":33},"source":"js/createStore.js","original":{"line":9,"column":18}},{"generated":{"line":23,"column":35},"source":"js/createStore.js","original":{"line":9,"column":2}},{"generated":{"line":24,"column":0},"source":"js/createStore.js","original":{"line":11,"column":2}},{"name":"store$","generated":{"line":24,"column":6},"source":"js/createStore.js","original":{"line":11,"column":8}},{"generated":{"line":24,"column":12},"source":"js/createStore.js","original":{"line":11,"column":14}},{"name":"action$","generated":{"line":24,"column":15},"source":"js/createStore.js","original":{"line":11,"column":17}},{"generated":{"line":24,"column":22},"source":"js/createStore.js","original":{"line":11,"column":24}},{"name":"pipe","generated":{"line":24,"column":23},"source":"js/createStore.js","original":{"line":11,"column":25}},{"generated":{"line":24,"column":27},"source":"js/createStore.js","original":{"line":11,"column":17}},{"generated":{"line":24,"column":28},"source":"js/createStore.js","original":{"line":12,"column":4}},{"generated":{"line":24,"column":54},"source":"js/createStore.js","original":{"line":12,"column":14}},{"name":"type","generated":{"line":25,"column":0},"source":"js/createStore.js","original":{"line":12,"column":16}},{"name":"type","generated":{"line":25,"column":4},"source":"js/createStore.js","original":{"line":12,"column":16}},{"generated":{"line":25,"column":8},"source":"js/createStore.js","original":{"line":12,"column":20}},{"generated":{"line":25,"column":10},"source":"js/createStore.js","original":{"line":12,"column":22}},{"generated":{"line":26,"column":0},"source":"js/createStore.js","original":{"line":12,"column":14}},{"generated":{"line":26,"column":3},"source":"js/createStore.js","original":{"line":12,"column":4}},{"generated":{"line":26,"column":4},"source":"js/createStore.js","original":{"line":11,"column":17}},{"generated":{"line":26,"column":6},"source":"js/createStore.js","original":{"line":13,"column":4}},{"generated":{"line":26,"column":27},"source":"js/createStore.js","original":{"line":13,"column":9}},{"generated":{"line":26,"column":39},"source":"js/createStore.js","original":{"line":13,"column":43}},{"generated":{"line":27,"column":0},"source":"js/createStore.js","original":{"line":13,"column":43}},{"name":"state","generated":{"line":27,"column":8},"source":"js/createStore.js","original":{"line":13,"column":10}},{"generated":{"line":27,"column":13},"source":"js/createStore.js","original":{"line":13,"column":43}},{"name":"initialState","generated":{"line":27,"column":84},"source":"js/createStore.js","original":{"line":13,"column":18}},{"generated":{"line":27,"column":96},"source":"js/createStore.js","original":{"line":13,"column":43}},{"generated":{"line":28,"column":0},"source":"js/createStore.js","original":{"line":13,"column":43}},{"name":"action","generated":{"line":28,"column":8},"source":"js/createStore.js","original":{"line":13,"column":32}},{"generated":{"line":28,"column":14},"source":"js/createStore.js","original":{"line":13,"column":43}},{"generated":{"line":29,"column":0},"source":"js/createStore.js","original":{"line":14,"column":6}},{"name":"handlers","generated":{"line":29,"column":8},"source":"js/createStore.js","original":{"line":14,"column":12}},{"generated":{"line":29,"column":16},"source":"js/createStore.js","original":{"line":14,"column":20}},{"generated":{"line":29,"column":19},"source":"js/createStore.js","original":{"line":14,"column":23}},{"name":"INCREMENT","generated":{"line":30,"column":0},"source":"js/createStore.js","original":{"line":15,"column":8}},{"name":"INCREMENT","generated":{"line":30,"column":6},"source":"js/createStore.js","original":{"line":15,"column":8}},{"generated":{"line":30,"column":15},"source":"js/createStore.js","original":{"line":15,"column":17}},{"generated":{"line":30,"column":17},"source":"js/createStore.js","original":{"line":15,"column":19}},{"name":"state","generated":{"line":30,"column":36},"source":"js/createStore.js","original":{"line":15,"column":19}},{"generated":{"line":30,"column":41},"source":"js/createStore.js","original":{"line":15,"column":24}},{"generated":{"line":31,"column":0},"source":"js/createStore.js","original":{"line":15,"column":24}},{"name":"state","generated":{"line":31,"column":33},"source":"js/createStore.js","original":{"line":15,"column":34}},{"generated":{"line":31,"column":38},"source":"js/createStore.js","original":{"line":15,"column":24}},{"name":"count","generated":{"line":32,"column":0},"source":"js/createStore.js","original":{"line":15,"column":41}},{"name":"count","generated":{"line":32,"column":10},"source":"js/createStore.js","original":{"line":15,"column":41}},{"generated":{"line":32,"column":15},"source":"js/createStore.js","original":{"line":15,"column":46}},{"name":"state","generated":{"line":32,"column":17},"source":"js/createStore.js","original":{"line":15,"column":48}},{"generated":{"line":32,"column":22},"source":"js/createStore.js","original":{"line":15,"column":53}},{"name":"count","generated":{"line":32,"column":23},"source":"js/createStore.js","original":{"line":15,"column":54}},{"generated":{"line":32,"column":28},"source":"js/createStore.js","original":{"line":15,"column":48}},{"generated":{"line":32,"column":31},"source":"js/createStore.js","original":{"line":15,"column":62}},{"generated":{"line":33,"column":0},"source":"js/createStore.js","original":{"line":15,"column":24}},{"generated":{"line":34,"column":0},"source":"js/createStore.js","original":{"line":15,"column":24}},{"generated":{"line":34,"column":7},"source":"js/createStore.js","original":{"line":14,"column":23}},{"name":"DECREMENT","generated":{"line":35,"column":0},"source":"js/createStore.js","original":{"line":16,"column":8}},{"name":"DECREMENT","generated":{"line":35,"column":6},"source":"js/createStore.js","original":{"line":16,"column":8}},{"generated":{"line":35,"column":15},"source":"js/createStore.js","original":{"line":16,"column":17}},{"generated":{"line":35,"column":17},"source":"js/createStore.js","original":{"line":16,"column":19}},{"name":"state","generated":{"line":35,"column":36},"source":"js/createStore.js","original":{"line":16,"column":19}},{"generated":{"line":35,"column":41},"source":"js/createStore.js","original":{"line":16,"column":24}},{"generated":{"line":36,"column":0},"source":"js/createStore.js","original":{"line":16,"column":24}},{"name":"state","generated":{"line":36,"column":33},"source":"js/createStore.js","original":{"line":16,"column":34}},{"generated":{"line":36,"column":38},"source":"js/createStore.js","original":{"line":16,"column":24}},{"name":"count","generated":{"line":37,"column":0},"source":"js/createStore.js","original":{"line":16,"column":41}},{"name":"count","generated":{"line":37,"column":10},"source":"js/createStore.js","original":{"line":16,"column":41}},{"generated":{"line":37,"column":15},"source":"js/createStore.js","original":{"line":16,"column":46}},{"name":"state","generated":{"line":37,"column":17},"source":"js/createStore.js","original":{"line":16,"column":48}},{"generated":{"line":37,"column":22},"source":"js/createStore.js","original":{"line":16,"column":53}},{"name":"count","generated":{"line":37,"column":23},"source":"js/createStore.js","original":{"line":16,"column":54}},{"generated":{"line":37,"column":28},"source":"js/createStore.js","original":{"line":16,"column":48}},{"generated":{"line":37,"column":31},"source":"js/createStore.js","original":{"line":16,"column":62}},{"generated":{"line":38,"column":0},"source":"js/createStore.js","original":{"line":16,"column":24}},{"generated":{"line":39,"column":0},"source":"js/createStore.js","original":{"line":16,"column":24}},{"generated":{"line":39,"column":7},"source":"js/createStore.js","original":{"line":14,"column":23}},{"name":"ADD","generated":{"line":40,"column":0},"source":"js/createStore.js","original":{"line":17,"column":8}},{"name":"ADD","generated":{"line":40,"column":6},"source":"js/createStore.js","original":{"line":17,"column":8}},{"generated":{"line":40,"column":9},"source":"js/createStore.js","original":{"line":17,"column":11}},{"generated":{"line":40,"column":11},"source":"js/createStore.js","original":{"line":17,"column":13}},{"name":"state","generated":{"line":40,"column":24},"source":"js/createStore.js","original":{"line":17,"column":14}},{"generated":{"line":40,"column":29},"source":"js/createStore.js","original":{"line":17,"column":13}},{"name":"action","generated":{"line":40,"column":31},"source":"js/createStore.js","original":{"line":17,"column":21}},{"generated":{"line":40,"column":37},"source":"js/createStore.js","original":{"line":17,"column":13}},{"generated":{"line":41,"column":0},"source":"js/createStore.js","original":{"line":17,"column":13}},{"name":"state","generated":{"line":41,"column":33},"source":"js/createStore.js","original":{"line":17,"column":38}},{"generated":{"line":41,"column":38},"source":"js/createStore.js","original":{"line":17,"column":13}},{"name":"count","generated":{"line":42,"column":0},"source":"js/createStore.js","original":{"line":17,"column":45}},{"name":"count","generated":{"line":42,"column":10},"source":"js/createStore.js","original":{"line":17,"column":45}},{"generated":{"line":42,"column":15},"source":"js/createStore.js","original":{"line":17,"column":50}},{"name":"state","generated":{"line":42,"column":17},"source":"js/createStore.js","original":{"line":17,"column":52}},{"generated":{"line":42,"column":22},"source":"js/createStore.js","original":{"line":17,"column":57}},{"name":"count","generated":{"line":42,"column":23},"source":"js/createStore.js","original":{"line":17,"column":58}},{"generated":{"line":42,"column":28},"source":"js/createStore.js","original":{"line":17,"column":52}},{"name":"action","generated":{"line":42,"column":31},"source":"js/createStore.js","original":{"line":17,"column":66}},{"generated":{"line":42,"column":37},"source":"js/createStore.js","original":{"line":17,"column":72}},{"name":"payload","generated":{"line":42,"column":38},"source":"js/createStore.js","original":{"line":17,"column":73}},{"generated":{"line":43,"column":0},"source":"js/createStore.js","original":{"line":17,"column":13}},{"generated":{"line":44,"column":0},"source":"js/createStore.js","original":{"line":17,"column":13}},{"generated":{"line":44,"column":7},"source":"js/createStore.js","original":{"line":14,"column":23}},{"name":"DEFAULT","generated":{"line":45,"column":0},"source":"js/createStore.js","original":{"line":18,"column":8}},{"name":"DEFAULT","generated":{"line":45,"column":6},"source":"js/createStore.js","original":{"line":18,"column":8}},{"generated":{"line":45,"column":13},"source":"js/createStore.js","original":{"line":18,"column":15}},{"generated":{"line":45,"column":15},"source":"js/createStore.js","original":{"line":18,"column":17}},{"name":"state","generated":{"line":45,"column":32},"source":"js/createStore.js","original":{"line":18,"column":17}},{"generated":{"line":45,"column":37},"source":"js/createStore.js","original":{"line":18,"column":22}},{"generated":{"line":46,"column":0},"source":"js/createStore.js","original":{"line":18,"column":22}},{"name":"state","generated":{"line":46,"column":15},"source":"js/createStore.js","original":{"line":18,"column":26}},{"generated":{"line":46,"column":20},"source":"js/createStore.js","original":{"line":18,"column":22}},{"generated":{"line":47,"column":0},"source":"js/createStore.js","original":{"line":18,"column":22}},{"generated":{"line":48,"column":0},"source":"js/createStore.js","original":{"line":14,"column":23}},{"generated":{"line":48,"column":5},"source":"js/createStore.js","original":{"line":14,"column":6}},{"generated":{"line":49,"column":0},"source":"js/createStore.js","original":{"line":20,"column":6}},{"name":"handler","generated":{"line":49,"column":8},"source":"js/createStore.js","original":{"line":20,"column":12}},{"generated":{"line":49,"column":15},"source":"js/createStore.js","original":{"line":20,"column":19}},{"name":"handlers","generated":{"line":49,"column":18},"source":"js/createStore.js","original":{"line":20,"column":22}},{"generated":{"line":49,"column":26},"source":"js/createStore.js","original":{"line":20,"column":30}},{"name":"action","generated":{"line":49,"column":27},"source":"js/createStore.js","original":{"line":20,"column":31}},{"generated":{"line":49,"column":33},"source":"js/createStore.js","original":{"line":20,"column":37}},{"name":"type","generated":{"line":49,"column":34},"source":"js/createStore.js","original":{"line":20,"column":38}},{"generated":{"line":49,"column":38},"source":"js/createStore.js","original":{"line":20,"column":30}},{"generated":{"line":49,"column":39},"source":"js/createStore.js","original":{"line":20,"column":22}},{"name":"handlers","generated":{"line":49,"column":43},"source":"js/createStore.js","original":{"line":20,"column":47}},{"generated":{"line":49,"column":51},"source":"js/createStore.js","original":{"line":20,"column":55}},{"name":"DEFAULT","generated":{"line":49,"column":52},"source":"js/createStore.js","original":{"line":20,"column":56}},{"generated":{"line":49,"column":59},"source":"js/createStore.js","original":{"line":20,"column":6}},{"generated":{"line":50,"column":0},"source":"js/createStore.js","original":{"line":21,"column":6}},{"name":"handler","generated":{"line":50,"column":11},"source":"js/createStore.js","original":{"line":21,"column":13}},{"generated":{"line":50,"column":18},"source":"js/createStore.js","original":{"line":21,"column":20}},{"name":"state","generated":{"line":50,"column":19},"source":"js/createStore.js","original":{"line":21,"column":21}},{"generated":{"line":50,"column":24},"source":"js/createStore.js","original":{"line":21,"column":20}},{"name":"action","generated":{"line":50,"column":26},"source":"js/createStore.js","original":{"line":21,"column":28}},{"generated":{"line":50,"column":32},"source":"js/createStore.js","original":{"line":21,"column":20}},{"generated":{"line":50,"column":33},"source":"js/createStore.js","original":{"line":21,"column":6}},{"generated":{"line":51,"column":0},"source":"js/createStore.js","original":{"line":22,"column":5}},{"generated":{"line":51,"column":3},"source":"js/createStore.js","original":{"line":13,"column":4}},{"name":"undefined","generated":{"line":51,"column":5},"source":"js/createStore.js","original":{"line":22,"column":7}},{"generated":{"line":51,"column":14},"source":"js/createStore.js","original":{"line":13,"column":4}},{"generated":{"line":51,"column":15},"source":"js/createStore.js","original":{"line":11,"column":17}},{"generated":{"line":51,"column":17},"source":"js/createStore.js","original":{"line":23,"column":4}},{"generated":{"line":51,"column":45},"source":"js/createStore.js","original":{"line":23,"column":16}},{"generated":{"line":51,"column":46},"source":"js/createStore.js","original":{"line":23,"column":4}},{"generated":{"line":51,"column":47},"source":"js/createStore.js","original":{"line":11,"column":17}},{"generated":{"line":51,"column":48},"source":"js/createStore.js","original":{"line":11,"column":2}},{"name":"store$","generated":{"line":52,"column":0},"source":"js/createStore.js","original":{"line":26,"column":2}},{"name":"store$","generated":{"line":52,"column":2},"source":"js/createStore.js","original":{"line":26,"column":2}},{"generated":{"line":52,"column":8},"source":"js/createStore.js","original":{"line":26,"column":8}},{"name":"action$","generated":{"line":52,"column":9},"source":"js/createStore.js","original":{"line":26,"column":9}},{"generated":{"line":52,"column":16},"source":"js/createStore.js","original":{"line":26,"column":2}},{"name":"action$","generated":{"line":52,"column":19},"source":"js/createStore.js","original":{"line":26,"column":19}},{"generated":{"line":52,"column":26},"source":"js/createStore.js","original":{"line":26,"column":2}},{"name":"store$","generated":{"line":54,"column":0},"source":"js/createStore.js","original":{"line":27,"column":2}},{"name":"store$","generated":{"line":54,"column":2},"source":"js/createStore.js","original":{"line":27,"column":2}},{"generated":{"line":54,"column":8},"source":"js/createStore.js","original":{"line":27,"column":8}},{"name":"dispatch","generated":{"line":54,"column":9},"source":"js/createStore.js","original":{"line":27,"column":9}},{"generated":{"line":54,"column":17},"source":"js/createStore.js","original":{"line":27,"column":2}},{"generated":{"line":54,"column":20},"source":"js/createStore.js","original":{"line":27,"column":20}},{"name":"action","generated":{"line":54,"column":30},"source":"js/createStore.js","original":{"line":27,"column":20}},{"generated":{"line":54,"column":36},"source":"js/createStore.js","original":{"line":27,"column":26}},{"generated":{"line":55,"column":0},"source":"js/createStore.js","original":{"line":27,"column":26}},{"name":"action$","generated":{"line":55,"column":11},"source":"js/createStore.js","original":{"line":27,"column":30}},{"generated":{"line":55,"column":18},"source":"js/createStore.js","original":{"line":27,"column":37}},{"name":"next","generated":{"line":55,"column":19},"source":"js/createStore.js","original":{"line":27,"column":38}},{"generated":{"line":55,"column":23},"source":"js/createStore.js","original":{"line":27,"column":30}},{"name":"action","generated":{"line":55,"column":24},"source":"js/createStore.js","original":{"line":27,"column":43}},{"generated":{"line":55,"column":30},"source":"js/createStore.js","original":{"line":27,"column":30}},{"generated":{"line":55,"column":31},"source":"js/createStore.js","original":{"line":27,"column":26}},{"generated":{"line":56,"column":0},"source":"js/createStore.js","original":{"line":27,"column":26}},{"generated":{"line":56,"column":3},"source":"js/createStore.js","original":{"line":27,"column":2}},{"generated":{"line":58,"column":0},"source":"js/createStore.js","original":{"line":29,"column":2}},{"name":"store$","generated":{"line":58,"column":9},"source":"js/createStore.js","original":{"line":29,"column":9}},{"generated":{"line":58,"column":15},"source":"js/createStore.js","original":{"line":29,"column":2}},{"generated":{"line":59,"column":0},"source":"js/createStore.js","original":{"line":30,"column":1}},{"generated":{"line":59,"column":1},"source":"js/createStore.js","original":{"line":8,"column":0}},{"name":"createStore","generated":{"line":61,"column":15},"source":"js/createStore.js","original":{"line":32,"column":15}}],"sources":{"js/createStore.js":"import { Subject } from 'rxjs';\nimport { scan, startWith, shareReplay } from 'rxjs/operators';\n\nconst initialState = {\n  count: 0\n};\n\nconst createStore = reducer => {\n  const action$ = new Subject();\n\n  const store$ = action$.pipe(\n    startWith({ type: '__INIT__' }),\n    scan((state = initialState, action) => {\n      const handlers = {\n        INCREMENT: state => ({ ...state, count: state.count + 1 }),\n        DECREMENT: state => ({ ...state, count: state.count - 1 }),\n        ADD: (state, action) => ({ ...state, count: state.count + action.payload }),\n        DEFAULT: state => state\n      };\n      const handler = handlers[action.type] || handlers.DEFAULT;\n      return handler(state, action);\n    }, undefined),\n    shareReplay(1)\n  );\n\n  store$.action$ = action$;\n  store$.dispatch = action => action$.next(action);\n\n  return store$;\n};\n\nexport default createStore;\n"},"lineCount":null}},"error":null,"hash":"ffd0accab1b1e104d35d06139673036d","cacheData":{"env":{}}}